#include "stdint.h"
#include "C:/Keil/EE319Kware/inc/tm4c123gh6pm.h"
void SystemInit () {}
	
	
	void UART_Init(void)
	{		
	 SYSCTL_RCGCUART_R |= 0X01 ;                   /* provide clock to UART0 */
	 SYSCTL_RCGCGPIO_R |= 0x01;                    /* actviate port A */
		while((SYSCTL_PRGPIO_R&0x01)==0){};          /*delay*/ 

		
			
	 UART0_CTL_R = 0 ;                             /* disable UART */ 
	 
	/* baud rate = 9600 , bus clock = 16 MHZ */ 
         UART0_IBRD_R = 104 ; 
		/* IBRD = Bus clock / (16 * clock div) */ 
	 UART0_FBRD_R = 11 ;
    /* FBDR = round ( 0.16667 * 64) + 0.5 =  */ 
         UART0_LCRH_R = 0x70;                          /* set 8 bits for length */
         UART0_CTL_R = 0x301 ;                         /* enable UARTEN , TXE and RXE */



/* UART0 TX0 and RX0 use PA0 and PA1*/ 
        GPIO_PORTA_DEN_R = 0x03;                      /* Make PA0 and PA1 as digital */
        GPIO_PORTA_AFSEL_R = 0x03 ;                   /* Use PA0,PA1 alternate function */
	 GPIO_PORTA_PCTL_R =0x11;                     /* configure PA0 and PA1 for UART */
	 GPIO_PORTA_AMSEL_R &=~0x03;                  /* no analog for PA0 , PA1 */  
		

	
} 



int main (void)
	{
	 UART_Init();
	 char UART0Rx(void); 
	 char c;
	 while(1)
	 {
	 c = UART0Rx();                               /* get a character from UART */
	 while((UART0_FR_R&0x10)!= 0){};              /* wait until the buffer is not empty */
	  c = UART0_DR_R ;                            /* read the received data */
	  return x;                                   /* and return it */
	 
	 }
	
	
} 		
		

	
